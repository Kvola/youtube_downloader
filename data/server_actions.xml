<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
         ACTIONS GROUPÃ‰ES â€” YouTube Video Downloader
         Apparaissent dans le menu "Action" de la vue liste
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->

    <!-- 1. TÃ‰LÃ‰CHARGER LA SÃ‰LECTION -->
    <record id="action_server_download_selection" model="ir.actions.server">
        <field name="name">ğŸ“¥ TÃ©lÃ©charger la sÃ©lection</field>
        <field name="model_id" ref="model_youtube_download"/>
        <field name="binding_model_id" ref="model_youtube_download"/>
        <field name="binding_view_types">list</field>
        <field name="state">code</field>
        <field name="code">
records = env['youtube.download'].browse(env.context.get('active_ids', []))
records.action_download_batch()
        </field>
    </record>

    <!-- 2. RÃ‰CUPÃ‰RER LES INFORMATIONS -->
    <record id="action_server_fetch_info_selection" model="ir.actions.server">
        <field name="name">ğŸ” RÃ©cupÃ©rer les informations</field>
        <field name="model_id" ref="model_youtube_download"/>
        <field name="binding_model_id" ref="model_youtube_download"/>
        <field name="binding_view_types">list</field>
        <field name="state">code</field>
        <field name="code">
records = env['youtube.download'].browse(env.context.get('active_ids', []))
records.action_fetch_info_batch()
        </field>
    </record>

    <!-- 3. ANNULER LA SÃ‰LECTION -->
    <record id="action_server_cancel_selection" model="ir.actions.server">
        <field name="name">ğŸš« Annuler la sÃ©lection</field>
        <field name="model_id" ref="model_youtube_download"/>
        <field name="binding_model_id" ref="model_youtube_download"/>
        <field name="binding_view_types">list</field>
        <field name="state">code</field>
        <field name="code">
records = env['youtube.download'].browse(env.context.get('active_ids', []))
records.action_cancel_batch()
        </field>
    </record>

    <!-- 4. REMETTRE EN BROUILLON -->
    <record id="action_server_reset_draft_selection" model="ir.actions.server">
        <field name="name">ğŸ”„ Remettre en brouillon</field>
        <field name="model_id" ref="model_youtube_download"/>
        <field name="binding_model_id" ref="model_youtube_download"/>
        <field name="binding_view_types">list</field>
        <field name="state">code</field>
        <field name="code">
records = env['youtube.download'].browse(env.context.get('active_ids', []))
records.action_reset_draft_batch()
        </field>
    </record>

    <!-- 5. RELANCER LES ERREURS -->
    <record id="action_server_retry_errors_selection" model="ir.actions.server">
        <field name="name">ğŸ” Relancer les tÃ©lÃ©chargements en erreur</field>
        <field name="model_id" ref="model_youtube_download"/>
        <field name="binding_model_id" ref="model_youtube_download"/>
        <field name="binding_view_types">list</field>
        <field name="state">code</field>
        <field name="code">
records = env['youtube.download'].browse(env.context.get('active_ids', []))
records.action_retry_errors_batch()
        </field>
    </record>

    <!-- 6. SUPPRIMER LES FICHIERS PHYSIQUES -->
    <record id="action_server_delete_files_selection" model="ir.actions.server">
        <field name="name">ğŸ—‘ï¸ Supprimer les fichiers du disque</field>
        <field name="model_id" ref="model_youtube_download"/>
        <field name="binding_model_id" ref="model_youtube_download"/>
        <field name="binding_view_types">list</field>
        <field name="state">code</field>
        <field name="code">
records = env['youtube.download'].browse(env.context.get('active_ids', []))
records.action_delete_files_batch()
        </field>
    </record>

    <!-- 7. CHANGER LA QUALITÃ‰ â€” 720p HD -->
    <record id="action_server_set_quality_720p" model="ir.actions.server">
        <field name="name">ğŸ“º QualitÃ© â†’ 720p HD</field>
        <field name="model_id" ref="model_youtube_download"/>
        <field name="binding_model_id" ref="model_youtube_download"/>
        <field name="binding_view_types">list</field>
        <field name="state">code</field>
        <field name="code">
records = env['youtube.download'].browse(env.context.get('active_ids', []))
records.action_set_quality('720p')
        </field>
    </record>

    <!-- 8. CHANGER LA QUALITÃ‰ â€” 1080p Full HD -->
    <record id="action_server_set_quality_1080p" model="ir.actions.server">
        <field name="name">ğŸ“º QualitÃ© â†’ 1080p Full HD</field>
        <field name="model_id" ref="model_youtube_download"/>
        <field name="binding_model_id" ref="model_youtube_download"/>
        <field name="binding_view_types">list</field>
        <field name="state">code</field>
        <field name="code">
records = env['youtube.download'].browse(env.context.get('active_ids', []))
records.action_set_quality('1080p')
        </field>
    </record>

    <!-- 9. CHANGER LA QUALITÃ‰ â€” Meilleure qualitÃ© -->
    <record id="action_server_set_quality_best" model="ir.actions.server">
        <field name="name">ğŸ“º QualitÃ© â†’ Meilleure</field>
        <field name="model_id" ref="model_youtube_download"/>
        <field name="binding_model_id" ref="model_youtube_download"/>
        <field name="binding_view_types">list</field>
        <field name="state">code</field>
        <field name="code">
records = env['youtube.download'].browse(env.context.get('active_ids', []))
records.action_set_quality('best')
        </field>
    </record>

    <!-- 10. CHANGER LA QUALITÃ‰ â€” Audio MP3 -->
    <record id="action_server_set_quality_audio" model="ir.actions.server">
        <field name="name">ğŸµ QualitÃ© â†’ Audio MP3</field>
        <field name="model_id" ref="model_youtube_download"/>
        <field name="binding_model_id" ref="model_youtube_download"/>
        <field name="binding_view_types">list</field>
        <field name="state">code</field>
        <field name="code">
records = env['youtube.download'].browse(env.context.get('active_ids', []))
records.action_set_quality('audio_only')
        </field>
    </record>

    <!-- 11. CHANGER LE FORMAT â€” MP4 -->
    <record id="action_server_set_format_mp4" model="ir.actions.server">
        <field name="name">ğŸï¸ Format â†’ MP4</field>
        <field name="model_id" ref="model_youtube_download"/>
        <field name="binding_model_id" ref="model_youtube_download"/>
        <field name="binding_view_types">list</field>
        <field name="state">code</field>
        <field name="code">
records = env['youtube.download'].browse(env.context.get('active_ids', []))
records.action_set_format('mp4')
        </field>
    </record>

    <!-- 12. CHANGER LE FORMAT â€” MKV -->
    <record id="action_server_set_format_mkv" model="ir.actions.server">
        <field name="name">ğŸï¸ Format â†’ MKV</field>
        <field name="model_id" ref="model_youtube_download"/>
        <field name="binding_model_id" ref="model_youtube_download"/>
        <field name="binding_view_types">list</field>
        <field name="state">code</field>
        <field name="code">
records = env['youtube.download'].browse(env.context.get('active_ids', []))
records.action_set_format('mkv')
        </field>
    </record>

    <!-- 13. CHANGER LA PRIORITÃ‰ â€” Haute -->
    <record id="action_server_set_priority_high" model="ir.actions.server">
        <field name="name">â¬†ï¸ PrioritÃ© â†’ Haute</field>
        <field name="model_id" ref="model_youtube_download"/>
        <field name="binding_model_id" ref="model_youtube_download"/>
        <field name="binding_view_types">list</field>
        <field name="state">code</field>
        <field name="code">
records = env['youtube.download'].browse(env.context.get('active_ids', []))
records.action_set_priority('2')
        </field>
    </record>

    <!-- 14. CHANGER LA PRIORITÃ‰ â€” Urgente -->
    <record id="action_server_set_priority_urgent" model="ir.actions.server">
        <field name="name">ğŸ”´ PrioritÃ© â†’ Urgente</field>
        <field name="model_id" ref="model_youtube_download"/>
        <field name="binding_model_id" ref="model_youtube_download"/>
        <field name="binding_view_types">list</field>
        <field name="state">code</field>
        <field name="code">
records = env['youtube.download'].browse(env.context.get('active_ids', []))
records.action_set_priority('3')
        </field>
    </record>

    <!-- 15. CHANGER LA PRIORITÃ‰ â€” Normale -->
    <record id="action_server_set_priority_normal" model="ir.actions.server">
        <field name="name">â¡ï¸ PrioritÃ© â†’ Normale</field>
        <field name="model_id" ref="model_youtube_download"/>
        <field name="binding_model_id" ref="model_youtube_download"/>
        <field name="binding_view_types">list</field>
        <field name="state">code</field>
        <field name="code">
records = env['youtube.download'].browse(env.context.get('active_ids', []))
records.action_set_priority('0')
        </field>
    </record>

    <!-- 16. ACTIVER LES SOUS-TITRES -->
    <record id="action_server_enable_subtitles" model="ir.actions.server">
        <field name="name">ğŸ’¬ Activer les sous-titres (FR)</field>
        <field name="model_id" ref="model_youtube_download"/>
        <field name="binding_model_id" ref="model_youtube_download"/>
        <field name="binding_view_types">list</field>
        <field name="state">code</field>
        <field name="code">
records = env['youtube.download'].browse(env.context.get('active_ids', []))
records.action_toggle_subtitles(True)
        </field>
    </record>

    <!-- 17. DÃ‰SACTIVER LES SOUS-TITRES -->
    <record id="action_server_disable_subtitles" model="ir.actions.server">
        <field name="name">ğŸ’¬ DÃ©sactiver les sous-titres</field>
        <field name="model_id" ref="model_youtube_download"/>
        <field name="binding_model_id" ref="model_youtube_download"/>
        <field name="binding_view_types">list</field>
        <field name="state">code</field>
        <field name="code">
records = env['youtube.download'].browse(env.context.get('active_ids', []))
records.action_toggle_subtitles(False)
        </field>
    </record>

    <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
    <!-- CONVERSION MP4 EN LOT (BATCH)                                       -->
    <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->

    <!-- 18. CONVERTIR EN MP4 â€“ YouTube Downloads -->
    <record id="action_server_convert_mp4_youtube" model="ir.actions.server">
        <field name="name">ğŸ”„ Convertir en MP4</field>
        <field name="model_id" ref="model_youtube_download"/>
        <field name="binding_model_id" ref="model_youtube_download"/>
        <field name="binding_view_types">list</field>
        <field name="state">code</field>
        <field name="code">
records = env['youtube.download'].browse(env.context.get('active_ids', []))
action = records.action_convert_to_mp4_batch()
        </field>
    </record>

    <!-- 19. CONVERTIR EN MP4 â€“ Fichiers Externes -->
    <record id="action_server_convert_mp4_external" model="ir.actions.server">
        <field name="name">ğŸ”„ Convertir en MP4</field>
        <field name="model_id" ref="model_youtube_external_media"/>
        <field name="binding_model_id" ref="model_youtube_external_media"/>
        <field name="binding_view_types">list</field>
        <field name="state">code</field>
        <field name="code">
records = env['youtube.external.media'].browse(env.context.get('active_ids', []))
action = records.action_convert_to_mp4_batch()
        </field>
    </record>

    <!-- 20. CONVERTIR EN MP4 â€“ VidÃ©os Telegram -->
    <record id="action_server_convert_mp4_telegram" model="ir.actions.server">
        <field name="name">ğŸ”„ Convertir en MP4</field>
        <field name="model_id" ref="model_telegram_channel_video"/>
        <field name="binding_model_id" ref="model_telegram_channel_video"/>
        <field name="binding_view_types">list</field>
        <field name="state">code</field>
        <field name="code">
records = env['telegram.channel.video'].browse(env.context.get('active_ids', []))
action = records.action_convert_to_mp4_batch()
        </field>
    </record>

    <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
    <!-- RÃ‰PARATION AUDIO (MP4 MUETS â†’ AAC)                                  -->
    <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->

    <!-- 21. RÃ‰PARER L'AUDIO â€“ YouTube Downloads -->
    <record id="action_server_fix_audio_youtube" model="ir.actions.server">
        <field name="name">ğŸ”Š RÃ©parer l'audio (AAC)</field>
        <field name="model_id" ref="model_youtube_download"/>
        <field name="binding_model_id" ref="model_youtube_download"/>
        <field name="binding_view_types">list</field>
        <field name="state">code</field>
        <field name="code">
records = env['youtube.download'].browse(env.context.get('active_ids', []))
action = records.action_fix_audio_batch()
        </field>
    </record>

    <!-- 22. RÃ‰PARER L'AUDIO â€“ Fichiers Externes -->
    <record id="action_server_fix_audio_external" model="ir.actions.server">
        <field name="name">ğŸ”Š RÃ©parer l'audio (AAC)</field>
        <field name="model_id" ref="model_youtube_external_media"/>
        <field name="binding_model_id" ref="model_youtube_external_media"/>
        <field name="binding_view_types">list</field>
        <field name="state">code</field>
        <field name="code">
records = env['youtube.external.media'].browse(env.context.get('active_ids', []))
action = records.action_fix_audio_batch()
        </field>
    </record>

    <!-- 23. RÃ‰PARER L'AUDIO â€“ VidÃ©os Telegram -->
    <record id="action_server_fix_audio_telegram" model="ir.actions.server">
        <field name="name">ğŸ”Š RÃ©parer l'audio (AAC)</field>
        <field name="model_id" ref="model_telegram_channel_video"/>
        <field name="binding_model_id" ref="model_telegram_channel_video"/>
        <field name="binding_view_types">list</field>
        <field name="state">code</field>
        <field name="code">
records = env['telegram.channel.video'].browse(env.context.get('active_ids', []))
action = records.action_fix_audio_batch()
        </field>
    </record>

</odoo>
